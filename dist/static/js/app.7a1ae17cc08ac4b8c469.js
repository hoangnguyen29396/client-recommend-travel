webpackJsonp([1],{"/yRs":function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s,n=(s=a("8ebl")).default||s,i={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"vue-street-view-pano-container"},[e("div",{ref:"vue-street-view-pano",staticClass:"vue-street-view-pano"}),this._v(" "),this._t("default")],2)},staticRenderFns:[]};var r=a("VU/8")(n,i,!1,function(t){a("CjMs")},null,null);e.default=r.exports},"5ZbH":function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s,n=(s=a("hOwk")).default||s,i={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"vue-map-container"},[e("div",{ref:"vue-map",staticClass:"vue-map"}),this._v(" "),e("div",{staticClass:"vue-map-hidden"},[this._t("default")],2),this._v(" "),this._t("visible")],2)},staticRenderFns:[]};var r=a("VU/8")(n,i,!1,function(t){a("dtWn")},null,null);e.default=r.exports},"5cLx":function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s,n=(s=a("WgA/")).default||s,i={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",[e("div",{ref:"flyaway"},[this._t("default")],2)])},staticRenderFns:[]},r=a("VU/8")(n,i,!1,null,null,null);e.default=r.exports},CjMs:function(t,e){},NHnr:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=a("7+uW"),n={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{attrs:{id:"app"}},[e("router-view")],1)},staticRenderFns:[]},i=a("VU/8")({components:{}},n,!1,null,null,null).exports,r=a("/ocq"),c=a("mvHQ"),o=a.n(c),l=a("//Fk"),u=a.n(l),d=a("mtWM"),v=a.n(d),p="https://travellingrecommend.herokuapp.com",h=function(t){return new u.a(function(e,a){v.a.post(p+"/api/login-web",t).then(function(t){return e(t)},function(t){return a(t)})})},m=function(){return!!localStorage.getItem("accessToken")},f=function(t){var e=0;return localStorage.getItem("actions")&&JSON.parse(localStorage.getItem("actions")).forEach(function(a){a.name===t&&(e+=1)}),0!==e},_=function(t){localStorage.setItem("accessToken",t)},g=function(t){localStorage.setItem("actions",o()(t))},C=function(){return localStorage.getItem("accessToken")},y=function(){localStorage.removeItem("accessToken")},b={methods:{logout:function(){y(),this.$router.push({name:"login"})}}},P={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("nav",{staticClass:"navbar navbar-fixed-top"},[a("div",{staticClass:"container-fluid"},[t._m(0),t._v(" "),a("div",{staticClass:"navbar-right"},[a("ul",{staticClass:"list-unstyled clearfix mb-0"},[t._m(1),t._v(" "),a("li",[a("div",{attrs:{id:"navbar-menu"}},[a("ul",{staticClass:"nav navbar-nav"},[a("li",{staticClass:"dropdown"},[t._m(2),t._v(" "),a("div",{staticClass:"dropdown-menu animated flipInY user-profile"},[a("div",{staticClass:"m-t-10 p-3 drop-list"},[a("ul",{staticClass:"list-unstyled"},[a("li",[a("a",{attrs:{href:"#"},on:{click:function(e){return e.preventDefault(),t.logout(e)}}},[a("i",{staticClass:"icon-power"}),t._v("Logout")])])])])])])])])])])])])])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"navbar-brand"},[e("a",{attrs:{href:"index.html"}},[e("img",{staticClass:"img-responsive logo",attrs:{src:"/static/assets/images/logo-icon.svg",alt:"Mplify Logo"}}),this._v(" "),e("span",{staticClass:"name"},[this._v("Manage")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("li",[e("div",{staticClass:"navbar-btn btn-toggle-show"},[e("button",{staticClass:"btn-toggle-offcanvas",attrs:{type:"button"}},[e("i",{staticClass:"lnr lnr-menu fa fa-bars"})])]),this._v(" "),e("a",{staticClass:"btn-toggle-fullwidth btn-toggle-hide",attrs:{href:"javascript:void(0);"}},[e("i",{staticClass:"fa fa-bars"})])])},function(){var t=this.$createElement,e=this._self._c||t;return e("a",{staticClass:"dropdown-toggle icon-menu",attrs:{href:"javascript:void(0);","data-toggle":"dropdown"}},[e("img",{staticClass:"rounded-circle",attrs:{src:"/static/assets/images/user-small.png",width:"30",alt:""}})])}]},w={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"sidebar",attrs:{id:"leftsidebar"}},[e("div",[e("nav",{staticClass:"sidebar-nav",attrs:{id:"leftsidebar-nav"}},[e("ul",{staticClass:"metismenu",attrs:{id:"main-menu"}},[e("li",{staticClass:"heading"},[this._v("Main")]),this._v(" "),e("li",[e("router-link",{attrs:{to:{name:"viewPlaceTypes"}}},[e("i",{staticClass:"icon-puzzle"}),e("span",[this._v("Place types")])])],1),this._v(" "),e("li",[e("router-link",{attrs:{to:{name:"viewLocations"}}},[e("i",{staticClass:"icon-magic-wand"}),e("span",[this._v("Locations")])])],1),this._v(" "),e("li",[e("router-link",{attrs:{to:{name:"viewUsers"}}},[e("i",{staticClass:"icon-user"}),e("span",[this._v("Users")])])],1)])])])])},staticRenderFns:[]},x={components:{TheHeader:a("VU/8")(b,P,!1,null,null,null).exports,SideBar:a("VU/8")(null,w,!1,null,null,null).exports}},T={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",[e("div",{attrs:{id:"wrapper"}},[e("TheHeader"),this._v(" "),e("SideBar"),this._v(" "),e("div",{attrs:{id:"main-content"}},[this._t("default")],2)],1)])},staticRenderFns:[]},k=a("VU/8")(x,T,!1,null,null,null).exports,E={components:{Layout:k}},$={render:function(){var t=this.$createElement,e=this._self._c||t;return e("layout",[e("div",{staticClass:"container-fluid"},[e("div",{staticClass:"block-header"},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-lg-5 col-md-8 col-sm-12"},[e("h2",[this._v("Place type management")])])])]),this._v(" "),e("router-view")],1)])},staticRenderFns:[]},A=a("VU/8")(E,$,!1,null,null,null).exports,U=a("Zx67"),N=a.n(U),I=a("Zrlr"),q=a.n(I),L=a("wxAW"),F=a.n(L),R=a("zwoO"),V=a.n(R),S=a("Pf15"),j=a.n(S),D=a("Dd8w"),M=a.n(D),O=function(){function t(e){q()(this,t),this.resource=e}return F()(t,[{key:"request",value:function(){return v.a.create({baseURL:p,headers:{"Content-Type":"application/json",Authorization:""+C()}})}},{key:"index",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=M()({},e);return new u.a(function(e,s){t.request().get(""+t.resource,{params:a}).then(e).catch(s)})}},{key:"show",value:function(t){var e=this;return new u.a(function(a,s){e.request().get(e.resource+"/"+t).then(a).catch(s)})}},{key:"update",value:function(t,e){var a=this,s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return new u.a(function(n,i){a.request().put(a.resource+"/"+t,e,s).then(n).catch(i)})}},{key:"create",value:function(t){var e=this,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return new u.a(function(s,n){e.request().post(""+e.resource,t,a).then(s).catch(n)})}},{key:"delete",value:function(t){var e=this;return new u.a(function(a,s){e.request().delete(e.resource+"/"+t).then(a).catch(s)})}}]),t}(),B=function(t){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"place-types";return q()(this,e),V()(this,(e.__proto__||N()(e)).call(this,t))}return j()(e,t),F()(e,[{key:"fetchPlaceTypes",value:function(){var t=this;return new u.a(function(e,a){t.request().get("/place-types").then(e).catch(a)})}},{key:"fetchPlaceType",value:function(t){var e=this;return new u.a(function(a,s){e.request().get("/place-type/"+t).then(a).catch(s)})}},{key:"createPlaceType",value:function(t){var e=this;return new u.a(function(a,s){e.request().post("/place-type",t).then(a).catch(s)})}},{key:"updatePlaceType",value:function(t){var e=this;return new u.a(function(a,s){e.request().put("/place-type/"+t.id,{name:t.name}).then(a).catch(s)})}}]),e}(O),W={props:["placeType"],data:function(){return{editedPlaceType:null}},methods:{editPlaceType:function(t){this.beforeEditCache=t.name,this.editedPlaceType=t},updatePlaceType:function(t){this.$emit("update-place-type",t)},cancelEditPlaceType:function(t){this.editedPlaceType=null,t.name=this.beforeEditCache},deletePlaceType:function(){var t=this;new B("/place-type").delete(this.placeType.id).then(function(e){500===e.data.result_code?alert("error"):t.$emit("delete-place-type",t.placeType)}).catch(function(){alert("error")})}},directives:{"place-type-focus":function(t,e){e.value&&t.focus()}}},z={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("tr",{class:{editing:t.placeType==t.editedPlaceType}},[a("td",[a("span",{staticClass:"view",on:{dblclick:function(e){t.editPlaceType(t.placeType)}}},[t._v(t._s(t.placeType.name))]),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.placeType.name,expression:"placeType.name"},{name:"place-type-focus",rawName:"v-place-type-focus",value:t.placeType==t.editedPlaceType,expression:"placeType == editedPlaceType"}],staticClass:"edit col-lg-4 form-control",attrs:{type:"text"},domProps:{value:t.placeType.name},on:{input:function(e){e.target.composing||t.$set(t.placeType,"name",e.target.value)}}})]),t._v(" "),a("td",[a("button",{staticClass:"btn btn-success edit",attrs:{type:"button",title:"Save"},on:{click:function(e){t.updatePlaceType(t.placeType)}}},[a("i",{staticClass:"fa fa-save"})]),t._v(" "),a("button",{staticClass:"btn btn-warning edit",attrs:{type:"button",title:"Cancel"},on:{click:function(e){t.cancelEditPlaceType(t.placeType)}}},[a("i",{staticClass:"fa fa-backward"})]),t._v(" "),a("router-link",{staticClass:"btn btn-success js-sweetalert view",attrs:{to:{name:"viewPlaceCategories",params:{placeTypeId:t.placeType.id}},title:"Place Categories"}},[a("i",{staticClass:"fa fa-cube"})]),t._v(" "),a("button",{staticClass:"btn btn-danger js-sweetalert view",attrs:{type:"button",title:"Delete"},on:{click:t.deletePlaceType}},[a("i",{staticClass:"fa fa-trash-o"})])],1)])},staticRenderFns:[]},Y={components:{PlaceTypeElement:a("VU/8")(W,z,!1,null,null,null).exports},data:function(){return{placeTypes:[],placeType:{id:"",name:""},validate:{placeType:{required:!0,max:20,min:5}},listError:[]}},created:function(){f("VIEW_PLACETYPE")&&this.fetchPlaceTypes()},methods:{fetchPlaceTypes:function(){var t=this;(new B).fetchPlaceTypes().then(function(e){t.placeTypes=e.data.data}).catch(function(t){alert("error")})},createPlaceType:function(t){var e=this;this.$validator.validateAll().then(function(a){a&&(new B).createPlaceType(t).then(function(t){e.placeTypes.unshift(t.data.data),e.placeType.name=""}).catch(function(t){e.listError=t.response.data.data})})},updatePlaceType:function(t){var e=this;(new B).updatePlaceType(t).then(function(a){t=a.data.data;var s=e.placeTypes.findIndex(function(e){return e.id===t.id});e.placeTypes.splice(s,1),e.placeTypes.unshift(t),e.listError=[]}).catch(function(t){e.listError=t.response.data.data})},isAction:function(t){return f(t)},deletePlaceType:function(t){var e=this.placeTypes.findIndex(function(e){return e.id===t.id});this.placeTypes.splice(e,1)}}},H={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"row clearfix"},[a("div",{staticClass:"col-lg-12"},[a("div",{staticClass:"card"},[t._m(0),t._v(" "),a("div",{staticClass:"body"},[a("div",{staticClass:"error-message"},t._l(t.listError,function(e){return a("p",{key:e.message},[t._v("\n            "+t._s(e.message)+"\n          ")])})),t._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:t.isAction("ADD_PLACETYPE"),expression:"isAction('ADD_PLACETYPE')"}],staticClass:"row clearfix"},[a("div",{staticClass:"col-lg-4 col-md-6 col-sm-12"},[a("div",{staticClass:"form-group"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.placeType.name,expression:"placeType.name"},{name:"validate",rawName:"v-validate",value:t.validate.placeType,expression:"validate.placeType"}],staticClass:"form-control",attrs:{type:"text",name:"place_type",placeholder:"Enter place type"},domProps:{value:t.placeType.name},on:{input:function(e){e.target.composing||t.$set(t.placeType,"name",e.target.value)}}}),t._v(" "),a("span",{directives:[{name:"show",rawName:"v-show",value:t.errors.has("place_type"),expression:"errors.has('place_type')"}],staticClass:"error-message"},[t._v("\n                "+t._s(t.errors.first("place_type"))+"\n              ")])])]),t._v(" "),a("div",{staticClass:"col-lg-4 col-md-6 col-sm-12"},[a("button",{staticClass:"btn btn-primary",attrs:{type:"submit"},on:{click:function(e){t.createPlaceType(t.placeType)}}},[t._v("Add")])])]),t._v(" "),a("div",{staticClass:"table-responsive"},[a("table",{staticClass:"table m-b-0"},[t._m(1),t._v(" "),a("tbody",t._l(t.placeTypes,function(e){return a("place-type-element",{key:e.id,attrs:{placeType:e},on:{"update-place-type":t.updatePlaceType,"delete-place-type":t.deletePlaceType}})}))])])])])])])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"header"},[e("h2",[this._v("Place type")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("thead",[e("tr",[e("th",[this._v("Place types")]),this._v(" "),e("th",[this._v("Actions")])])])}]},Z=a("VU/8")(Y,H,!1,null,null,null).exports,G=function(t){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"place-category";return q()(this,e),V()(this,(e.__proto__||N()(e)).call(this,t))}return j()(e,t),F()(e,[{key:"fetchPlaceCategories",value:function(t){var e=this;return new u.a(function(a,s){e.request().get("/place-type/"+t+"/place-categories").then(a).catch(s)})}},{key:"createPlaceCategory",value:function(t){var e=this;return new u.a(function(a,s){e.request().post("/place-category",t).then(a).catch(s)})}},{key:"updatePlaceCategory",value:function(t){var e=this;return new u.a(function(a,s){e.request().put("/place-category/"+t.id,{name:t.name}).then(a).catch(s)})}}]),e}(O),J={props:["placeCategory"],data:function(){return{editedPlaceCategory:null}},methods:{editPlaceCategory:function(t){this.beforeEditCache=t.name,this.editedPlaceCategory=t},updatePlaceCategory:function(t){this.$emit("update-place-category",t)},cancelEditPlaceCategory:function(t){this.editedPlaceCategory=null,t.name=this.beforeEditCache},deletePlaceCategory:function(){var t=this;new G("place-category").delete(this.placeCategory.id).then(function(e){500===e.data.result_code?alert("error"):t.$emit("delete-place-category",t.placeCategory)}).catch(function(){alert("error")})}},directives:{"place-category-focus":function(t,e){e.value&&t.focus()}}},Q={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("tr",{class:{editing:t.placeCategory==t.editedPlaceCategory}},[a("td",[a("span",{staticClass:"view",on:{dblclick:function(e){t.editPlaceCategory(t.placeCategory)}}},[t._v(t._s(t.placeCategory.name))]),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.placeCategory.name,expression:"placeCategory.name"},{name:"place-category-focus",rawName:"v-place-category-focus",value:t.placeCategory==t.editedPlaceCategory,expression:"placeCategory == editedPlaceCategory"}],staticClass:"edit col-lg-4 form-control",attrs:{type:"text"},domProps:{value:t.placeCategory.name},on:{input:function(e){e.target.composing||t.$set(t.placeCategory,"name",e.target.value)}}})]),t._v(" "),a("td",[a("button",{staticClass:"btn btn-success edit",attrs:{type:"button",title:"Save"},on:{click:function(e){t.updatePlaceCategory(t.placeCategory)}}},[a("i",{staticClass:"fa fa-save"})]),t._v(" "),a("button",{staticClass:"btn btn-warning edit",attrs:{type:"button",title:"Cancel"},on:{click:function(e){t.cancelEditPlaceCategory(t.placeCategory)}}},[a("i",{staticClass:"fa fa-backward"})]),t._v(" "),a("button",{staticClass:"btn btn-danger js-sweetalert view",attrs:{type:"button",title:"Delete"},on:{click:t.deletePlaceCategory}},[a("i",{staticClass:"fa fa-trash-o"})])])])},staticRenderFns:[]},X={props:{placeTypeId:{required:!0}},components:{PlaceCategoryElement:a("VU/8")(J,Q,!1,null,null,null).exports},data:function(){return{placeCategories:[],placeCategory:{name:"",idPlaceType:0},placeType:{},listError:[]}},computed:{},created:function(){this.fetchPlaceType(this.placeTypeId),this.fetchPlaceCategories(this.placeTypeId)},methods:{fetchPlaceCategories:function(t){var e=this;(new G).fetchPlaceCategories(t).then(function(t){e.placeCategories=t.data.data}).catch(function(t){alert("error")})},fetchPlaceType:function(t){var e=this;(new B).fetchPlaceType(t).then(function(t){e.placeType=t.data.data}).catch(function(t){alert("error")})},createPlaceCategory:function(t,e){var a=this,s=new G;t.idPlaceType=e,s.createPlaceCategory(t).then(function(t){a.placeCategories.unshift(t.data.data),a.placeCategory.name="",a.placeCategory.idPlaceType=0}).catch(function(t){a.listError=t.response.data.data})},updatePlaceCategory:function(t){var e=this;(new G).updatePlaceCategory(t).then(function(a){t=a.data.data;var s=e.placeCategories.findIndex(function(e){return e.id===t.id});e.placeCategories.splice(s,1),e.placeCategories.unshift(t),e.listError=[]}).catch(function(t){e.listError=t.response.data.data})},deletePlaceCategory:function(t){var e=this.placeCategories.findIndex(function(e){return e.id===t.id});this.placeCategories.splice(e,1)}}},K={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"row clearfix"},[a("div",{staticClass:"col-lg-12"},[a("div",{staticClass:"card"},[a("div",{staticClass:"header"},[a("h2",[t._v(t._s(t.placeType.name))])]),t._v(" "),a("div",{staticClass:"body"},[a("div",{staticClass:"error-message"},t._l(t.listError,function(e){return a("p",{key:e.message},[t._v("\n            "+t._s(e.message)+"\n          ")])})),t._v(" "),a("div",{staticClass:"row clearfix"},[a("div",{staticClass:"col-lg-4 col-md-6 col-sm-12"},[a("div",{staticClass:"form-group"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.placeCategory.name,expression:"placeCategory.name"}],staticClass:"form-control",attrs:{type:"text",placeholder:"Enter place category"},domProps:{value:t.placeCategory.name},on:{input:function(e){e.target.composing||t.$set(t.placeCategory,"name",e.target.value)}}})])]),t._v(" "),a("div",{staticClass:"col-lg-4 col-md-6 col-sm-12"},[a("button",{staticClass:"btn btn-primary",attrs:{type:"submit"},on:{click:function(e){t.createPlaceCategory(t.placeCategory,t.placeTypeId)}}},[t._v("Add")])])]),t._v(" "),a("div",{staticClass:"table-responsive"},[a("table",{staticClass:"table m-b-0"},[t._m(0),t._v(" "),a("tbody",t._l(t.placeCategories,function(e){return a("place-category-element",{key:e.id,attrs:{placeCategory:e},on:{"update-place-category":t.updatePlaceCategory,"delete-place-category":t.deletePlaceCategory}})}))])])])])])])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("thead",[e("tr",[e("th",[this._v("Place categories")]),this._v(" "),e("th",[this._v("Actions")])])])}]},tt=a("VU/8")(X,K,!1,null,null,null).exports,et={components:{Layout:k}},at={render:function(){var t=this.$createElement,e=this._self._c||t;return e("layout",[e("div",{staticClass:"container-fluid"},[e("div",{staticClass:"block-header"},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-lg-5 col-md-8 col-sm-12"},[e("h2",[this._v("Location management")])])])]),this._v(" "),e("router-view")],1)])},staticRenderFns:[]},st=a("VU/8")(et,at,!1,null,null,null).exports,nt={props:{maxVisibleButtons:{type:Number,required:!1,default:10},totalPages:{type:Number,required:!0},currentPage:{type:Number,required:!0}},computed:{startPage:function(){return 1===this.currentPage?1:this.currentPage===this.totalPages?this.totalPages>this.maxVisibleButtons?this.totalPages-this.maxVisibleButtons+1:1:this.currentPage-1},endPage:function(){return Math.min(this.startPage+this.maxVisibleButtons-1,this.totalPages)},pages:function(){for(var t=[],e=this.startPage;e<=this.endPage;e+=1)t.push({name:e,isDisabled:e===this.currentPage});return t},isInFirstPage:function(){return 1===this.currentPage},isInLastPage:function(){return this.currentPage===this.totalPages}},methods:{onClickFirstPage:function(){this.$emit("pagechanged",1)},onClickPreviousPage:function(){this.$emit("pagechanged",this.currentPage-1)},onClickPage:function(t){this.$emit("pagechanged",t)},onClickNextPage:function(){this.$emit("pagechanged",this.currentPage+1)},onClickLastPage:function(){this.$emit("pagechanged",this.totalPages)},isPageActive:function(t){return this.currentPage===t}}},it={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"row clearfix"},[a("div",{staticClass:"col-lg-12"},[a("div",{staticClass:"card"},[a("div",{staticClass:"body"},[a("nav",{attrs:{"aria-label":"Page navigation example"}},[a("ul",{staticClass:"pagination"},[a("li",{on:{click:t.onClickFirstPage}},[t._m(0)]),t._v(" "),a("li",[a("a",{staticClass:"page-link",attrs:{"aria-label":"Previous"},on:{click:t.onClickPreviousPage}},[a("span",{attrs:{"aria-hidden":"true"}},[t._v("«")]),t._v(" "),a("span",{staticClass:"sr-only"},[t._v("Previous")])])]),t._v(" "),t._l(t.pages,function(e){return a("li",{key:e.name,class:{active:t.isPageActive(e.name)},on:{click:function(a){t.onClickPage(e.name)}}},[a("a",{staticClass:"page-link"},[t._v(t._s(e.name))])])}),t._v(" "),a("li",[a("a",{staticClass:"page-link",attrs:{"aria-label":"Next"},on:{click:t.onClickNextPage}},[a("span",{attrs:{"aria-hidden":"true"}},[t._v("»")]),t._v(" "),a("span",{staticClass:"sr-only"},[t._v("Next")])])]),t._v(" "),a("li",{on:{click:t.onClickLastPage}},[t._m(1)])],2)])])])])])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("a",{staticClass:"page-link",attrs:{"aria-label":"First"}},[e("span",{attrs:{"aria-hidden":"true"}},[this._v("First")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("a",{staticClass:"page-link",attrs:{"aria-label":"Last"}},[e("span",{attrs:{"aria-hidden":"true"}},[this._v("Last")])])}]},rt=a("VU/8")(nt,it,!1,null,null,null).exports,ct=function(t){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"locations";return q()(this,e),V()(this,(e.__proto__||N()(e)).call(this,t))}return j()(e,t),F()(e,[{key:"fetchLocations",value:function(t){var e=this;return new u.a(function(a,s){e.request().get("/locations/"+t).then(a).catch(s)})}}]),e}(O),ot={props:["location"],methods:{changeStatus:function(){var t=this;new ct("/api/status-of-location").update(this.location.id).then(function(e){"1"===t.location.status?t.location.status="0":t.location.status="1"}).catch(function(){alert("error")})}}},lt={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("tr",[a("td",[t._v(t._s(t.location.name))]),t._v(" "),a("td",[t._v(t._s(t.location.introduction))]),t._v(" "),a("td",[t._v(t._s(t.location.placeCategory))]),t._v(" "),a("td",[t._v(t._s(t.location.address))]),t._v(" "),a("td",[a("router-link",{staticClass:"btn btn-success js-sweetalert",attrs:{to:{name:"viewPictures",params:{locationId:t.location.id}},title:"Pictures"}},[a("i",{staticClass:"fa fa-image"})]),t._v(" "),a("router-link",{staticClass:"btn btn-success js-sweetalert",attrs:{to:{name:"editLocation",params:{locationId:t.location.id}},title:"Edit"}},[a("i",{staticClass:"fa fa-edit"})]),t._v(" "),a("router-link",{staticClass:"btn btn-success js-sweetalert",attrs:{to:{name:"viewEvaluation",params:{locationId:t.location.id}},title:"Evaluation"}},[a("i",{staticClass:"fa fa-star"})]),t._v(" "),"1"===t.location.status?a("button",{staticClass:"btn btn-success js-sweetalert",attrs:{type:"button",title:"deactivate"},on:{click:t.changeStatus}},[a("i",{staticClass:"fa fa-check"})]):a("button",{staticClass:"btn btn-danger js-sweetalert",attrs:{type:"button",title:"activate"},on:{click:t.changeStatus}},[a("i",{staticClass:"fa fa-close"})])],1)])},staticRenderFns:[]},ut={components:{Pagination:rt,LocationElement:a("VU/8")(ot,lt,!1,null,null,null).exports},data:function(){return{currentPage:1,locations:[],sumPage:0}},created:function(){this.fetchLocations(this.currentPage)},methods:{fetchLocations:function(t){var e=this;(new ct).fetchLocations(t).then(function(t){e.sumPage=t.data.data.sumPage,e.locations=t.data.data.listLocationProfieDTO}).catch(function(){alert("error")})},onPageChange:function(t){this.currentPage=t,this.fetchLocations(this.currentPage)}}},dt={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"row clearfix"},[a("div",{staticClass:"col-lg-12"},[a("div",{staticClass:"card"},[t._m(0),t._v(" "),a("div",{staticClass:"body"},[a("div",{staticClass:"row clearfix"},[a("div",{staticClass:"col-lg-4 col-m-6 col-sm-12 mb-4"},[a("router-link",{staticClass:"btn btn-primary js-sweetalert",attrs:{to:{name:"changeLocation"},title:"Add location"}},[t._v("Add")])],1)]),t._v(" "),a("div",{staticClass:"table-responsive"},[a("table",{staticClass:"table table-bordered"},[t._m(1),t._v(" "),a("tbody",t._l(t.locations,function(t){return a("location-element",{key:t.id,attrs:{location:t}})}))])])]),t._v(" "),a("pagination",{attrs:{"total-pages":t.sumPage,"current-page":t.currentPage,maxVisibleButtons:4},on:{pagechanged:t.onPageChange}})],1)])])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"header"},[e("h2",[this._v("Location")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("thead",[a("tr",[a("th",[t._v("Name")]),t._v(" "),a("th",[t._v("Introduction")]),t._v(" "),a("th",[t._v("Place Category")]),t._v(" "),a("th",[t._v("Address")]),t._v(" "),a("th",[t._v("Actions")])])])}]},vt=a("VU/8")(ut,dt,!1,null,null,null).exports,pt={props:["locationId"],data:function(){return{center:{lat:45.508,lng:-73.587},markers:[],places:[],currentPlace:null,selected:"Choose place type",placeTypes:[],placeCategories:[],location:{name:"",introduction:"",idPlaceType:"",idPlaceCategory:"",content:"",idStatus:1,nameAddress:"",latitudeAddress:0,longitudeAddress:0,phone:"",email:"",idDuration:1},listError:[],isCreating:!0}},created:function(){isNaN(this.locationId)||(this.fetchLocation(this.locationId),this.isCreating=!1),this.fetchPlaceCategories(),this.fetchPlaceTypes(),this.geolocate()},computed:{listPlaceCategory:function(){var t=this;return""===this.location.idPlaceType?this.placeCategories:this.placeCategories.filter(function(e){return e.idPlaceType===t.location.idPlaceType})}},methods:{fetchLocation:function(t){var e=this;new ct("/api/location").show(t).then(function(t){e.location=t.data.data}).catch(function(){alert("error")})},fetchPlaceCategories:function(){var t=this;new G("place-categories").index().then(function(e){t.placeCategories=e.data.data}).catch(function(){alert("error")})},fetchPlaceTypes:function(){var t=this;(new B).index().then(function(e){t.placeTypes=e.data.data}).catch(function(){alert("error")})},updateLocation:function(t){var e=this;this.$validator.validateAll().then(function(a){a&&new ct("/web/update-location").update(e.locationId,t).then(function(t){e.$router.push({name:"viewLocations"})}).catch(function(t){e.listError=t.response.data.data})})},createLocation:function(t){var e=this;console.log(t),this.$validator.validateAll().then(function(a){a&&new ct("create-location-non-picture").create(t).then(function(t){e.$router.push({name:"viewLocations"})}).catch(function(t){e.listError=t.response.data.data})})},changeLocation:function(t){this.isCreating?this.createLocation(t):this.updateLocation(t)},setPlace:function(t){this.currentPlace=t},addMarker:function(){if(this.currentPlace){var t=this.currentPlace.geometry.location.lat(),e=this.currentPlace.geometry.location.lng(),a={lat:t,lng:e};this.markers.push({position:a}),this.places.push(this.currentPlace),this.center=a,this.location.nameAddress=this.currentPlace.adr_address.replace(/<\/?[^>]+(>|$)/g,""),this.location.latitudeAddress=t,this.location.longitudeAddress=e,this.currentPlace=null}},geolocate:function(){var t=this;navigator.geolocation.getCurrentPosition(function(e){t.center={lat:e.coords.latitude,lng:e.coords.longitude}})}}},ht={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"row clearfix"},[a("div",{staticClass:"col-lg-12"},[a("div",{staticClass:"card"},[a("div",{staticClass:"header"},[a("h2",[t._v(t._s(t.isCreating?"Add location":"Edit location"))])]),t._v(" "),a("div",{staticClass:"body"},[a("div",{staticClass:"error-message"},t._l(t.listError,function(e){return a("p",{key:e.message},[t._v("\n            "+t._s(e.message)+"\n          ")])})),t._v(" "),a("div",{staticClass:"form-group"},[a("label",[t._v("Name")]),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.location.name,expression:"location.name"},{name:"validate",rawName:"v-validate",value:"required|min:2",expression:"'required|min:2'"}],staticClass:"form-control",attrs:{type:"text",name:"name"},domProps:{value:t.location.name},on:{input:function(e){e.target.composing||t.$set(t.location,"name",e.target.value)}}}),t._v(" "),a("span",{directives:[{name:"show",rawName:"v-show",value:t.errors.has("name"),expression:"errors.has('name')"}],staticClass:"error-message"},[t._v("\n            "+t._s(t.errors.first("name"))+"\n          ")])]),t._v(" "),a("div",{staticClass:"form-group"},[a("label",[t._v("Introduction")]),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.location.introduction,expression:"location.introduction"},{name:"validate",rawName:"v-validate",value:"required|min:2",expression:"'required|min:2'"}],staticClass:"form-control",attrs:{type:"email",name:"introduction"},domProps:{value:t.location.introduction},on:{input:function(e){e.target.composing||t.$set(t.location,"introduction",e.target.value)}}}),t._v(" "),a("span",{directives:[{name:"show",rawName:"v-show",value:t.errors.has("introduction"),expression:"errors.has('introduction')"}],staticClass:"error-message"},[t._v("\n            "+t._s(t.errors.first("introduction"))+"\n          ")])]),t._v(" "),a("div",{staticClass:"form-group"},[a("label",[t._v("Content")]),t._v(" "),a("textarea",{directives:[{name:"model",rawName:"v-model",value:t.location.content,expression:"location.content"},{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],staticClass:"form-control",attrs:{rows:"5",cols:"30",name:"content"},domProps:{value:t.location.content},on:{input:function(e){e.target.composing||t.$set(t.location,"content",e.target.value)}}}),t._v(" "),a("span",{directives:[{name:"show",rawName:"v-show",value:t.errors.has("content"),expression:"errors.has('content')"}],staticClass:"error-message"},[t._v("\n            "+t._s(t.errors.first("content"))+"\n          ")])]),t._v(" "),a("div",{staticClass:"form-group"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-lg-6"},[a("label",{attrs:{for:"food"}},[t._v("Place Type")]),t._v(" "),a("br"),t._v(" "),a("select",{directives:[{name:"model",rawName:"v-model",value:t.location.idPlaceType,expression:"location.idPlaceType"}],staticClass:"form-control",on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.$set(t.location,"idPlaceType",e.target.multiple?a:a[0])}}},[a("option",{attrs:{value:""}},[t._v("Choose place type")]),t._v(" "),t._l(t.placeTypes,function(e){return a("option",{key:e.id,domProps:{value:e.id}},[t._v("\n                  "+t._s(e.name)+"\n                ")])})],2)]),t._v(" "),a("div",{staticClass:"col-lg-6"},[a("label",{attrs:{for:"food"}},[t._v("Category")]),t._v(" "),a("br"),t._v(" "),a("select",{directives:[{name:"model",rawName:"v-model",value:t.location.idPlaceCategory,expression:"location.idPlaceCategory"},{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],staticClass:"form-control",attrs:{name:"place_category"},on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.$set(t.location,"idPlaceCategory",e.target.multiple?a:a[0])}}},[a("option",{attrs:{value:""}},[t._v("Choose place category")]),t._v(" "),t._l(t.listPlaceCategory,function(e){return a("option",{key:e.id,domProps:{value:e.id}},[t._v(t._s(e.name))])})],2),t._v(" "),a("span",{directives:[{name:"show",rawName:"v-show",value:t.errors.has("place_category"),expression:"errors.has('place_category')"}],staticClass:"error-message"},[t._v("\n                "+t._s(t.errors.first("place_category"))+"\n              ")])])])]),t._v(" "),a("div",{staticClass:"form-group"},[a("label",[t._v("Phone")]),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.location.phone,expression:"location.phone"},{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],staticClass:"form-control",attrs:{type:"text",name:"phone"},domProps:{value:t.location.phone},on:{input:function(e){e.target.composing||t.$set(t.location,"phone",e.target.value)}}}),t._v(" "),a("span",{directives:[{name:"show",rawName:"v-show",value:t.errors.has("phone"),expression:"errors.has('phone')"}],staticClass:"error-message"},[t._v("\n            "+t._s(t.errors.first("phone"))+"\n          ")])]),t._v(" "),a("div",{staticClass:"form-group"},[a("label",[t._v("Email")]),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.location.email,expression:"location.email"},{name:"validate",rawName:"v-validate",value:"required|email",expression:"'required|email'"}],staticClass:"form-control",attrs:{type:"email",name:"email"},domProps:{value:t.location.email},on:{input:function(e){e.target.composing||t.$set(t.location,"email",e.target.value)}}}),t._v(" "),a("span",{directives:[{name:"show",rawName:"v-show",value:t.errors.has("email"),expression:"errors.has('email')"}],staticClass:"error-message"},[t._v("\n            "+t._s(t.errors.first("email"))+"\n          ")])]),t._v(" "),a("div",{staticClass:"form-group"},[a("label",[t._v("Search and add a pin")]),t._v(" "),a("gmap-autocomplete",{staticClass:"form-control",on:{place_changed:t.setPlace}}),t._v(" "),a("button",{staticClass:"btn btn-primary mt-1 mb-2",on:{click:t.addMarker}},[t._v("Search")]),t._v(" "),a("br")],1),t._v(" "),a("gmap-map",{ref:"mapRef",staticStyle:{width:"100%",height:"400px"},attrs:{center:t.center,zoom:12}},t._l(t.markers,function(e,s){return a("gmap-marker",{key:s,attrs:{position:e.position},on:{click:function(a){t.center=e.position}}})})),t._v(" "),a("br"),t._v(" "),a("button",{staticClass:"btn btn-primary",attrs:{type:"submit"},on:{click:function(e){t.changeLocation(t.location)}}},[t._v("Save")])],1)])])])},staticRenderFns:[]},mt=a("VU/8")(pt,ht,!1,null,null,null).exports,ft={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("tr",[a("td",[a("span",[a("img",{attrs:{src:"https://travellingrecommend.herokuapp.com/downloadFile/"+t.picture.image,height:"150",width:"150"}})])]),t._v(" "),a("td",[a("button",{staticClass:"btn btn-danger js-sweetalert",attrs:{type:"button",title:"Delete"}},[a("i",{staticClass:"fa fa-trash-o",on:{click:function(e){t.fireDeletePicture(t.picture)}}})])])])},staticRenderFns:[]},_t=a("VU/8")({props:["picture"],data:function(){return{}},methods:{fireDeletePicture:function(t){this.$emit("delete-picture",t)}}},ft,!1,null,null,null).exports,gt=function(t){function e(){return q()(this,e),V()(this,(e.__proto__||N()(e)).apply(this,arguments))}return j()(e,t),F()(e,[{key:"fetchPictures",value:function(t){var e=this;return new u.a(function(a,s){e.request().get("/api/location/"+t+"/pictures").then(a).catch(s)})}},{key:"createPicture",value:function(t){var e=this;return new u.a(function(a,s){e.request().post("/api/upload-image-for-location",t,{headers:{"Content-Type":"multipart/form-data"}}).then(a).catch(s)})}},{key:"deletePicture",value:function(t){var e=this;return new u.a(function(a,s){e.request().delete("api/delete-picture/"+t.id).then(a).catch(s)})}}]),e}(O),Ct={props:{locationId:{required:!0}},components:{PictureElement:_t},data:function(){return{file:"",pictures:[]}},computed:{},created:function(){this.fetchPictures(this.locationId)},methods:{fetchPictures:function(t){var e=this;(new gt).fetchPictures(t).then(function(t){e.pictures=t.data.data}).catch(function(){alert("error")})},createPicture:function(t,e){var a=this,s=new gt,n=new FormData;n.append("file",e),n.append("idLocation",t),s.createPicture(n).then(function(t){a.pictures.unshift(t.data.data)}).catch(function(){alert("error")})},deletePicture:function(t){var e=this;(new gt).deletePicture(t).then(function(){var a=e.pictures.findIndex(function(e){return e.id===t.id});e.pictures.splice(a,1)}).catch(function(){alert("error")})},handleFileUpload:function(){this.file=this.$refs.file.files[0]}}},yt={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"row clearfix"},[a("div",{staticClass:"col-lg-12"},[a("div",{staticClass:"card"},[t._m(0),t._v(" "),a("div",{staticClass:"body"},[a("div",{staticClass:"row clearfix"},[a("div",{staticClass:"col-lg-4 col-md-6 col-sm-12"},[a("div",{staticClass:"form-group"},[a("input",{ref:"file",staticClass:"form-control",attrs:{type:"file",placeholder:"Enter place type"},on:{change:function(e){t.handleFileUpload()}}})])]),t._v(" "),a("div",{staticClass:"col-lg-4 col-md-6 col-sm-12"},[a("button",{staticClass:"btn btn-primary",attrs:{type:"submit"},on:{click:function(e){t.createPicture(t.locationId,t.file)}}},[t._v("Add")])])]),t._v(" "),a("div",{staticClass:"table-responsive"},[a("table",{staticClass:"table table-bordered"},[t._m(1),t._v(" "),a("tbody",t._l(t.pictures,function(e){return a("picture-element",{key:e.id,attrs:{picture:e},on:{"delete-picture":t.deletePicture}})}))])])])])])])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"header"},[e("h2",[this._v("Picture")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("thead",[e("tr",[e("th",[this._v("Picture")]),this._v(" "),e("th",[this._v("Actions")])])])}]},bt=a("VU/8")(Ct,yt,!1,null,null,null).exports,Pt={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("tr",[a("td",[t._v(t._s(t.evaluation.nameUser))]),t._v(" "),a("td",[t._v(t._s(t.evaluation.score))]),t._v(" "),a("td",[t._v(t._s(t.evaluation.content))]),t._v(" "),a("td",[t._v(t._s(t.evaluation.dateReview))]),t._v(" "),a("td",[a("button",{staticClass:"btn btn-danger js-sweetalert",attrs:{type:"button",title:"Delete"}},[a("i",{staticClass:"fa fa-trash-o",on:{click:function(e){t.fireDeleteEvaluation(t.evaluation)}}})])])])},staticRenderFns:[]},wt=a("VU/8")({props:["evaluation"],data:function(){return{}},methods:{fireDeleteEvaluation:function(t){this.$emit("delete-evaluation",t)}}},Pt,!1,null,null,null).exports,xt=function(t){function e(){return q()(this,e),V()(this,(e.__proto__||N()(e)).apply(this,arguments))}return j()(e,t),F()(e,[{key:"fetchEvaluations",value:function(t,e){var a=this;return new u.a(function(s,n){a.request().get("/api/web/review/"+t+"/"+e).then(s).catch(n)})}},{key:"deleteEvaluation",value:function(t){var e=this;return new u.a(function(a,s){e.request().delete("/delete/review/"+t.id).then(a).catch(s)})}}]),e}(O),Tt={props:{locationId:{required:!0}},data:function(){return{currentPage:1,sumPage:0,evaluations:[]}},components:{Pagination:rt,EvaluationElement:wt},computed:{},created:function(){this.fetchEvaluations(this.locationId,this.currentPage)},methods:{fetchEvaluations:function(t,e){var a=this;(new xt).fetchEvaluations(t,e).then(function(t){a.evaluations=t.data.data.listEvaluationWeb,a.sumPage=t.data.data.sumPage}).catch(function(){alert("error")})},deleteEvaluation:function(t){var e=this;(new xt).deleteEvaluation(t).then(function(){var a=e.evaluations.findIndex(function(e){return e.id===t.id});e.evaluations.splice(a,1)}).catch(function(){alert("error")})},onPageChange:function(t){this.currentPage=t,this.fetchEvaluations(this.locationId,this.currentPage)}}},kt={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"row clearfix"},[a("div",{staticClass:"col-lg-12"},[a("div",{staticClass:"card"},[t._m(0),t._v(" "),a("div",{staticClass:"body"},[a("div",{staticClass:"table-responsive"},[a("table",{staticClass:"table table-bordered"},[t._m(1),t._v(" "),a("tbody",t._l(t.evaluations,function(e){return a("evaluation-element",{key:e.id,attrs:{evaluation:e},on:{"delete-evaluation":t.deleteEvaluation}})}))])])]),t._v(" "),a("pagination",{attrs:{"total-pages":t.sumPage,"current-page":t.currentPage,maxVisibleButtons:4},on:{pagechanged:t.onPageChange}})],1)])])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"header"},[e("h2",[this._v("Evaluation")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("thead",[a("tr",[a("th",[t._v("Username")]),t._v(" "),a("th",[t._v("Score")]),t._v(" "),a("th",[t._v("Content")]),t._v(" "),a("th",[t._v("Evaluation date")]),t._v(" "),a("th",[t._v("Actions")])])])}]},Et=a("VU/8")(Tt,kt,!1,null,null,null).exports,$t={components:{Layout:k}},At={render:function(){var t=this.$createElement,e=this._self._c||t;return e("layout",[e("div",{staticClass:"container-fluid"},[e("div",{staticClass:"block-header"},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-lg-5 col-md-8 col-sm-12"},[e("h2",[this._v("User management")])])])]),this._v(" "),e("router-view")],1)])},staticRenderFns:[]},Ut=a("VU/8")($t,At,!1,null,null,null).exports,Nt=function(t){function e(){return q()(this,e),V()(this,(e.__proto__||N()(e)).apply(this,arguments))}return j()(e,t),F()(e,[{key:"fetchUsers",value:function(t){var e=this;return new u.a(function(a,s){e.request().get("/api/users/"+t).then(a).catch(s)})}},{key:"createUser",value:function(t){var e=this;return new u.a(function(a,s){e.request().post("/api/user",t).then(a).catch(s)})}}]),e}(O),It={data:function(){return{user:{username:"",fullname:"",password:"",address:"",phone:"",gender:""},isCreating:!0}},methods:{saveChange:function(t){var e=this;(new Nt).createUser(t).then(function(t){e.$router.push({name:"viewUsers"})}).catch(function(t){console.log(t)})}}},qt={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"row clearfix"},[a("div",{staticClass:"col-lg-12"},[a("div",{staticClass:"card"},[t._m(0),t._v(" "),a("div",{staticClass:"body"},[a("div",{staticClass:"form-group"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-lg-6"},[a("label",[t._v("Username")]),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.user.username,expression:"user.username"}],staticClass:"form-control",attrs:{type:"text"},domProps:{value:t.user.username},on:{input:function(e){e.target.composing||t.$set(t.user,"username",e.target.value)}}})])])]),t._v(" "),a("div",{staticClass:"form-group"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-lg-6"},[a("label",[t._v("Fullname")]),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.user.fullname,expression:"user.fullname"}],staticClass:"form-control",attrs:{type:"text"},domProps:{value:t.user.fullname},on:{input:function(e){e.target.composing||t.$set(t.user,"fullname",e.target.value)}}})])])]),t._v(" "),a("div",{staticClass:"form-group"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-lg-6"},[a("label",[t._v("Password")]),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.user.password,expression:"user.password"}],staticClass:"form-control",attrs:{type:"password"},domProps:{value:t.user.password},on:{input:function(e){e.target.composing||t.$set(t.user,"password",e.target.value)}}})])])]),t._v(" "),a("div",{staticClass:"form-group"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-lg-6"},[a("label",[t._v("Phone")]),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.user.phone,expression:"user.phone"}],staticClass:"form-control",attrs:{type:"email"},domProps:{value:t.user.phone},on:{input:function(e){e.target.composing||t.$set(t.user,"phone",e.target.value)}}})])])]),t._v(" "),a("div",{staticClass:"form-group"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-lg-6"},[a("select",{directives:[{name:"model",rawName:"v-model",value:t.user.gender,expression:"user.gender"}],staticClass:"form-control",on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.$set(t.user,"gender",e.target.multiple?a:a[0])}}},[a("option",{attrs:{value:""}},[t._v("Gender")]),t._v(" "),a("option",{attrs:{value:"1"}},[t._v("Male")]),t._v(" "),a("option",{attrs:{value:"2"}},[t._v("Female")])])])])]),t._v(" "),a("br"),t._v(" "),a("button",{staticClass:"btn btn-primary",attrs:{type:"button"},on:{click:function(e){t.saveChange(t.user)}}},[t._v("Save")])])])])])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"header"},[e("h2",[this._v("Change user")])])}]},Lt=a("VU/8")(It,qt,!1,null,null,null).exports,Ft={props:["user"],methods:{changeStatus:function(){var t=this;new Nt("api/web/status-of-user").update(this.user.idUser).then(function(){1===t.user.status?t.user.status=0:t.user.status=1}).catch(function(){alert("error")})}}},Rt={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("tr",[a("td",[t._v(t._s(t.user.username))]),t._v(" "),a("td",[t._v(t._s(t.user.fullname))]),t._v(" "),a("td",[t._v(t._s(t.user.roleName))]),t._v(" "),a("td",[a("router-link",{staticClass:"btn btn-success js-sweetalert",attrs:{to:{name:"viewActions",params:{userId:t.user.idUser}},title:"Actions"}},[a("i",{staticClass:"fa fa-server"})]),t._v(" "),1===t.user.status?a("button",{staticClass:"btn btn-success js-sweetalert",attrs:{type:"button",title:"deactivate"},on:{click:t.changeStatus}},[a("i",{staticClass:"fa fa-check"})]):a("button",{staticClass:"btn btn-danger js-sweetalert",attrs:{type:"button",title:"activate"},on:{click:t.changeStatus}},[a("i",{staticClass:"fa fa-close"})])],1)])},staticRenderFns:[]},Vt={components:{Pagination:rt,UserElement:a("VU/8")(Ft,Rt,!1,null,null,null).exports},data:function(){return{currentPage:1,sumPage:0,users:[]}},computed:{},mounted:function(){this.fetchUsers(this.currentPage)},methods:{fetchUsers:function(t){var e=this;(new Nt).fetchUsers(t).then(function(t){e.users=t.data.data.usersProfileDTOList,e.sumPage=t.data.data.sumPage}).catch(function(){alert("error")})},onPageChange:function(t){this.currentPage=t,this.fetchUsers(this.currentPage)}}},St={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"row clearfix"},[a("div",{staticClass:"col-lg-12"},[a("div",{staticClass:"card"},[t._m(0),t._v(" "),a("div",{staticClass:"body"},[a("div",{staticClass:"row clearfix"},[a("div",{staticClass:"col-lg-4 col-m-6 col-sm-12 mb-4"},[a("router-link",{staticClass:"btn btn-primary js-sweetalert",attrs:{to:{name:"addUser"},title:"Add user"}},[t._v("Add")])],1)]),t._v(" "),a("div",{staticClass:"table-responsive"},[a("table",{staticClass:"table m-b-0"},[t._m(1),t._v(" "),a("tbody",t._l(t.users,function(t){return a("user-element",{key:t.id,attrs:{user:t}})}))])])]),t._v(" "),a("pagination",{attrs:{"total-pages":t.sumPage,"current-page":t.currentPage,maxVisibleButtons:4},on:{pagechanged:t.onPageChange}})],1)])])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"header"},[e("h2",[this._v("Users")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("thead",[e("tr",[e("th",[this._v("User")]),this._v(" "),e("th",[this._v("Fullname")]),this._v(" "),e("th",[this._v("Role")]),this._v(" "),e("th",[this._v("Actions")])])])}]},jt=a("VU/8")(Vt,St,!1,null,null,null).exports,Dt={data:function(){return{username:"",password:""}},methods:{nextSteps:function(){this.$router.push({name:"viewLocations"})},login:function(t,e){var a=this,s=new FormData;s.append("username",t),s.append("password",e),h(s).then(function(t){_(t.data.data),g(t.data.listAction),a.nextSteps()}).catch(function(){alert("error")})}}},Mt={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"body"},[a("div",{staticClass:"form-group"},[a("label",{staticClass:"control-label sr-only"},[t._v("User")]),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.username,expression:"username"}],staticClass:"form-control",attrs:{type:"username",value:"",placeholder:"Username"},domProps:{value:t.username},on:{input:function(e){e.target.composing||(t.username=e.target.value)}}})]),t._v(" "),a("div",{staticClass:"form-group"},[a("label",{staticClass:"control-label sr-only"},[t._v("Password")]),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.password,expression:"password"}],staticClass:"form-control",attrs:{type:"password",value:"",placeholder:"Password"},domProps:{value:t.password},on:{input:function(e){e.target.composing||(t.password=e.target.value)}}})]),t._v(" "),a("button",{staticClass:"btn btn-primary btn-lg btn-block",attrs:{type:"submit"},on:{click:function(e){t.login(t.username,t.password)}}},[t._v("LOGIN")])])},staticRenderFns:[]},Ot={components:{FormLogin:a("VU/8")(Dt,Mt,!1,null,null,null).exports}},Bt={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"vertical-align-wrap"},[e("div",{staticClass:"vertical-align-middle auth-main"},[e("div",{staticClass:"auth-box",staticStyle:{margin:"0 auto 0 auto"}},[this._m(0),this._v(" "),this._m(1),this._v(" "),e("div",{staticClass:"auth-right"},[e("div",{staticClass:"card"},[this._m(2),this._v(" "),e("form-login")],1)])])])])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"mobile-logo"},[e("img",{attrs:{src:"/static/assets/images/logo-icon.svg",alt:"Mplify"}})])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"auth-left"},[e("div",{staticClass:"left-slider"},[e("img",{staticClass:"img-fluid",attrs:{src:"/static/assets/images/login/1.jpg",alt:""}})])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"header"},[e("p",{staticClass:"lead"},[this._v("Log in")])])}]},Wt=a("VU/8")(Ot,Bt,!1,null,null,null).exports,zt=function(t){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"actions";return q()(this,e),V()(this,(e.__proto__||N()(e)).call(this,t))}return j()(e,t),e}(O),Yt={props:{userId:[String,Number],action:Object},methods:{deleteAction:function(t){var e=this;new zt("delete-action-table-by-idPermiss").delete(t).then(function(){var a=e.action.listAction.findIndex(function(e){return e.idPermiss===t});e.action.listAction.splice(a,1)}).catch(function(){alert("error")})}}},Ht={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("tr",[a("td",[t._v(t._s(t.action.nameTable))]),t._v(" "),a("td",[a("ul",t._l(t.action.listAction,function(e){return a("li",{key:e.id,staticClass:"action-list"},[a("span",[t._v(t._s(e.name))]),t._v(" "),a("button",{staticClass:"btn btn-danger js-sweetalert delete-button",attrs:{title:"Delete"}},[a("i",{staticClass:"fa fa-trash-o",on:{click:function(a){t.deleteAction(e.idPermiss)}}})])])}))])])},staticRenderFns:[]},Zt={props:["userId"],data:function(){return{actions:[],tables:[],tableActions:[],permission:{idUser:this.userId,idResource:"",idAction:""}}},components:{ActionElement:a("VU/8")(Yt,Ht,!1,null,null,null).exports},created:function(){this.fetchActions(),this.fetchTables(),this.fetchTableActions()},methods:{fetchActions:function(){var t=this;new zt("api/permissions/"+this.userId).index().then(function(e){t.actions=e.data.data}).catch(function(){alert("error")})},fetchTables:function(){var t=this;new zt("api/tables").index().then(function(e){t.tables=e.data.data}).catch(function(){alert("error")})},fetchTableActions:function(){var t=this;new zt("api/actions").index().then(function(e){t.tableActions=e.data.data}).catch(function(){alert("error")})},createPermission:function(){var t=this;new zt("add-action-table").create(this.permission).then(function(){t.fetchActions()}).catch(function(){alert("alert")})}}},Gt={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"row clearfix"},[a("div",{staticClass:"col-lg-12"},[a("div",{staticClass:"card"},[t._m(0),t._v(" "),a("div",{staticClass:"body"},[a("div",{staticClass:"row clearfix"},[a("div",{staticClass:"col-lg-4 col-md-6 col-sm-12"},[a("div",{staticClass:"form-group"},[a("select",{directives:[{name:"model",rawName:"v-model",value:t.permission.idResource,expression:"permission.idResource"}],staticClass:"form-control",on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.$set(t.permission,"idResource",e.target.multiple?a:a[0])}}},[a("option",{attrs:{value:""}},[t._v("Please choose table")]),t._v(" "),t._l(t.tables,function(e){return a("option",{key:e.id,domProps:{value:e.id}},[t._v("\n                  "+t._s(e.name)+"\n                ")])})],2)])]),t._v(" "),a("div",{staticClass:"col-lg-4 col-md-6 col-sm-12"},[a("div",{staticClass:"form-group"},[a("select",{directives:[{name:"model",rawName:"v-model",value:t.permission.idAction,expression:"permission.idAction"}],staticClass:"form-control",on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.$set(t.permission,"idAction",e.target.multiple?a:a[0])}}},[a("option",{attrs:{value:""}},[t._v("Please choose action")]),t._v(" "),t._l(t.tableActions,function(e){return a("option",{key:e.id,domProps:{value:e.id}},[t._v("\n                  "+t._s(e.name)+"\n                ")])})],2)])]),t._v(" "),a("div",{staticClass:"col-lg-4 col-md-6 col-sm-12"},[a("button",{staticClass:"btn btn-primary",attrs:{type:"submit"},on:{click:t.createPermission}},[t._v("Add")])])]),t._v(" "),a("div",{staticClass:"table-responsive"},[a("table",{staticClass:"table table-bordered"},[t._m(1),t._v(" "),a("tbody",t._l(t.actions,function(e){return a("action-element",t._b({key:e.id,attrs:{action:e}},"action-element",{userId:t.userId},!1))}))])])])])])])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"header"},[e("h2",[this._v("User's action")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("thead",[e("tr",[e("th",[this._v("Table")]),this._v(" "),e("th",[this._v("Actions")])])])}]},Jt=a("VU/8")(Zt,Gt,!1,null,null,null).exports;s.a.use(r.a);var Qt=new r.a({mode:"history",routes:[{path:"/place-types",component:A,children:[{path:"",name:"viewPlaceTypes",component:Z,meta:{requireAuth:!0}}]},{path:"/place-type/:placeTypeId",component:A,children:[{path:"place-categories",name:"viewPlaceCategories",props:!0,component:tt,meta:{requireAuth:!0}}]},{path:"/locations",component:st,children:[{path:"",name:"viewLocations",component:vt,meta:{requireAuth:!0}},{path:"add",name:"changeLocation",props:!0,component:mt,meta:{requireAuth:!0}}]},{path:"/locations/:locationId",component:st,children:[{path:"pictures",name:"viewPictures",props:!0,component:bt,meta:{requireAuth:!0}},{path:"evaluation",name:"viewEvaluation",props:!0,component:Et,meta:{requireAuth:!0}},{path:"",name:"editLocation",props:!0,component:mt,meta:{requireAuth:!0}}]},{path:"/users",component:Ut,children:[{path:"",name:"viewUsers",component:jt,meta:{requireAuth:!0}},{path:"add",name:"addUser",component:Lt,meta:{requireAuth:!0}}]},{path:"/users/:userId",component:Ut,children:[{path:"actions",name:"viewActions",props:!0,component:Jt,meta:{requireAuth:!0}}]},{path:"/login",name:"login",component:Wt}]});Qt.beforeEach(function(t,e,a){return t.matched.some(function(t){return t.meta.requireAuth})?m()?a():a({name:"login"}):a()});var Xt=a("NYxO");s.a.use(Xt.a);var Kt=new Xt.a.Store({modules:{}}),te=a("sA6N"),ee=a("sUu7"),ae=a("TXmL");s.a.use(ae.a);var se=new ae.a({locale:"en",messages:{}});s.a.config.productionTip=!1,s.a.use(ee.a,{locale:"en",dictionary:{en:{attributes:{place_type:"place type",place_category:"place category"}}}}),s.a.use(te,{load:{key:"AIzaSyBkCZgIVYIi0Uintdf23Dx3Epg-LEA9dzA",libraries:"places"}}),new s.a({el:"#app",render:function(t){return t(i)},router:Qt,i18n:se,store:Kt})},T5eZ:function(t,e,a){"use strict";var s={render:function(){var t=this.$createElement,e=this._self._c||t;return e("label",[e("span",{domProps:{textContent:this._s(this.label)}}),this._v(" "),e("input",{ref:"input",class:this.className,attrs:{type:"text",placeholder:this.placeholder}})])},staticRenderFns:[]};e.a=s},YI6p:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=a("jIen"),n=a.n(s);for(var i in s)"default"!==i&&function(t){a.d(e,t,function(){return s[t]})}(i);var r=a("T5eZ"),c=a("VU/8")(n.a,r.a,!1,null,null,null);e.default=c.exports},dtWn:function(t,e){},preG:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s,n=(s=a("hQTS")).default||s,i={render:function(){var t=this.$createElement;return(this._self._c||t)("input",{ref:"input",attrs:{type:"text",placeholder:this.placeholder},domProps:{value:this.value}})},staticRenderFns:[]},r=a("VU/8")(n,i,!1,null,null,null);e.default=r.exports}},["NHnr"]);
//# sourceMappingURL=app.7a1ae17cc08ac4b8c469.js.map